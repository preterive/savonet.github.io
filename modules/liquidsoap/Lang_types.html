<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Lang.html">
<link rel="next" href="Lang_values.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="AFrame" rel="Chapter" href="AFrame.html">
<link title="Audio_converter" rel="Chapter" href="Audio_converter.html">
<link title="Clock" rel="Chapter" href="Clock.html">
<link title="Configure" rel="Chapter" href="Configure.html">
<link title="Decoder" rel="Chapter" href="Decoder.html">
<link title="Doc" rel="Chapter" href="Doc.html">
<link title="Dyntools" rel="Chapter" href="Dyntools.html">
<link title="Encoder" rel="Chapter" href="Encoder.html">
<link title="Frame" rel="Chapter" href="Frame.html">
<link title="Generated" rel="Chapter" href="Generated.html">
<link title="Generator" rel="Chapter" href="Generator.html">
<link title="Http" rel="Chapter" href="Http.html">
<link title="IoRing" rel="Chapter" href="IoRing.html">
<link title="JSON" rel="Chapter" href="JSON.html">
<link title="Lang" rel="Chapter" href="Lang.html">
<link title="Lang_types" rel="Chapter" href="Lang_types.html">
<link title="Lang_values" rel="Chapter" href="Lang_values.html">
<link title="MFrame" rel="Chapter" href="MFrame.html">
<link title="Ogg_muxer" rel="Chapter" href="Ogg_muxer.html">
<link title="Output" rel="Chapter" href="Output.html">
<link title="Playlist_parser" rel="Chapter" href="Playlist_parser.html">
<link title="Plug" rel="Chapter" href="Plug.html">
<link title="Request" rel="Chapter" href="Request.html">
<link title="Request_source" rel="Chapter" href="Request_source.html">
<link title="Server" rel="Chapter" href="Server.html">
<link title="Source" rel="Chapter" href="Source.html">
<link title="Switch" rel="Chapter" href="Switch.html">
<link title="Synthesized" rel="Chapter" href="Synthesized.html">
<link title="Tutils" rel="Chapter" href="Tutils.html">
<link title="VFrame" rel="Chapter" href="VFrame.html">
<link title="Video_converter" rel="Chapter" href="Video_converter.html"><title>liquidsoap : Lang_types</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Lang.html" title="Lang">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Lang_values.html" title="Lang_values">Next</a>
</div>
<h1>Module <a href="type_Lang_types.html">Lang_types</a></h1>

<pre><span id="MODULELang_types"><span class="keyword">module</span> Lang_types</span>: <code class="code">sig</code> <a href="Lang_types.html">..</a> <code class="code">end</code></pre><hr width="100%">

<pre><span id="TYPEpos"><span class="keyword">type</span> <code class="type"></code>pos</span> = <code class="type">Lexing.position * Lexing.position</code> </pre>


<pre><span id="VALprint_single_pos"><span class="keyword">val</span> print_single_pos</span> : <code class="type">Lexing.position -> string</code></pre>
<pre><span id="VALprint_pos"><span class="keyword">val</span> print_pos</span> : <code class="type">?prefix:string -> <a href="Lang_types.html#TYPEpos">pos</a> -> string</code></pre>
<pre><code><span id="TYPEvariance"><span class="keyword">type</span> <code class="type"></code>variance</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvariance.Covariant"><span class="constructor">Covariant</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvariance.Contravariant"><span class="constructor">Contravariant</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTvariance.Invariant"><span class="constructor">Invariant</span></span></code></td>

</tr></table>



<pre><code><span id="TYPEground"><span class="keyword">type</span> <code class="type"></code>ground</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTground.Unit"><span class="constructor">Unit</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTground.Bool"><span class="constructor">Bool</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTground.Int"><span class="constructor">Int</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTground.String"><span class="constructor">String</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTground.Float"><span class="constructor">Float</span></span></code></td>

</tr></table>



<pre><span id="VALprint_ground"><span class="keyword">val</span> print_ground</span> : <code class="type"><a href="Lang_types.html#TYPEground">ground</a> -> string</code></pre>
<pre><code><span id="TYPEconstr"><span class="keyword">type</span> <code class="type"></code>constr</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Num"><span class="constructor">Num</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Ord"><span class="constructor">Ord</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Getter"><span class="constructor">Getter</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEground">ground</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Dtools"><span class="constructor">Dtools</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Arity_fixed"><span class="constructor">Arity_fixed</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstr.Arity_any"><span class="constructor">Arity_any</span></span></code></td>

</tr></table>



<pre><span id="TYPEconstraints"><span class="keyword">type</span> <code class="type"></code>constraints</span> = <code class="type"><a href="Lang_types.html#TYPEconstr">constr</a> list</code> </pre>


<pre><span id="VALprint_constr"><span class="keyword">val</span> print_constr</span> : <code class="type"><a href="Lang_types.html#TYPEconstr">constr</a> -> string</code></pre>
<pre><code><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTt.pos">pos</span>&nbsp;: <code class="type"><a href="Lang_types.html#TYPEpos">pos</a> option</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTt.level">level</span>&nbsp;: <code class="type">int</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span class="keyword">mutable&nbsp;</span><span id="TYPEELTt.descr">descr</span>&nbsp;: <code class="type"><a href="Lang_types.html#TYPEdescr">descr</a></code>;</code></td>

</tr></table>
}

<div class="info ">
<div class="info-desc">
<p>Every type gets a level annotation.
 This is useful in order to know what can or cannot be generalized:
 you need to compare the level of an abstraction and those of a ref or
 source.</p>
</div>
</div>


<pre><code><span id="TYPEconstructed"><span class="keyword">type</span> <code class="type"></code>constructed</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstructed.name">name</span>&nbsp;: <code class="type">string</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconstructed.params">params</span>&nbsp;: <code class="type">(<a href="Lang_types.html#TYPEvariance">variance</a> * <a href="Lang_types.html#TYPEt">t</a>) list</code>;</code></td>

</tr></table>
}



<pre><code><span id="TYPEdescr"><span class="keyword">type</span> <code class="type"></code>descr</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Constr"><span class="constructor">Constr</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEconstructed">constructed</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Ground"><span class="constructor">Ground</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEground">ground</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.List"><span class="constructor">List</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Product"><span class="constructor">Product</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEt">t</a> * <a href="Lang_types.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Zero"><span class="constructor">Zero</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Succ"><span class="constructor">Succ</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Variable"><span class="constructor">Variable</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Arrow"><span class="constructor">Arrow</span></span> <span class="keyword">of</span> <code class="type">(bool * string * <a href="Lang_types.html#TYPEt">t</a>) list * <a href="Lang_types.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.EVar"><span class="constructor">EVar</span></span> <span class="keyword">of</span> <code class="type">int * <a href="Lang_types.html#TYPEconstraints">constraints</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTdescr.Link"><span class="constructor">Link</span></span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEt">t</a></code></code></td>

</tr></table>



<pre><span id="VALmake"><span class="keyword">val</span> make</span> : <code class="type">?pos:<a href="Lang_types.html#TYPEpos">pos</a> option -> ?level:int -> <a href="Lang_types.html#TYPEdescr">descr</a> -> <a href="Lang_types.html#TYPEt">t</a></code></pre>
<pre><span id="VALdummy"><span class="keyword">val</span> dummy</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a></code></pre>
<pre><span id="VALpp_type"><span class="keyword">val</span> pp_type</span> : <code class="type">Format.formatter -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALpp_type_generalized"><span class="keyword">val</span> pp_type_generalized</span> : <code class="type">(int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list -><br>       Format.formatter -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALprint"><span class="keyword">val</span> print</span> : <code class="type">?generalized:(int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list -> <a href="Lang_types.html#TYPEt">t</a> -> string</code></pre>
<pre><span id="VALdoc_of_type"><span class="keyword">val</span> doc_of_type</span> : <code class="type">generalized:(int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list -> <a href="Lang_types.html#TYPEt">t</a> -> <a href="Doc.item-c.html">Doc.item</a></code></pre>
<pre><span id="EXCEPTIONOccur_check"><span class="keyword">exception</span> Occur_check</span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEt">t</a> * <a href="Lang_types.html#TYPEt">t</a></code></pre>
<div class="info ">
<div class="info-desc">
<p>These two exceptions can be raised when attempting to assign a variable.</p>
</div>
</div>

<pre><span id="VALoccur_check"><span class="keyword">val</span> occur_check</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Check that <code class="code">a</code> (a dereferenced type variable) does not occur in <code class="code">b</code>,
 and prepare the instantiation <code class="code">a&lt;-b</code> by adjusting the levels.</p>
</div>
</div>

<pre><span id="EXCEPTIONUnsatisfied_constraint"><span class="keyword">exception</span> Unsatisfied_constraint</span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEconstr">constr</a> * <a href="Lang_types.html#TYPEt">t</a></code></pre>

<pre><span id="VALbind"><span class="keyword">val</span> bind</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALderef"><span class="keyword">val</span> deref</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Dereferencing gives you the meaning of a term,
 going through links created by instantiations.
 One should (almost) never work on a non-dereferenced type.</p>
</div>
</div>

<pre><span id="VALfilter_vars"><span class="keyword">val</span> filter_vars</span> : <code class="type">(<a href="Lang_types.html#TYPEt">t</a> -> bool) -> <a href="Lang_types.html#TYPEt">t</a> -> (int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list</code></pre>
<pre><span id="VALcopy_with"><span class="keyword">val</span> copy_with</span> : <code class="type">((int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) * <a href="Lang_types.html#TYPEt">t</a>) list -><br>       <a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Copy a term, substituting some EVars as indicated by a list
 of associations. Other EVars are not copied, so sharing is
 preserved.</p>
</div>
</div>

<pre><span id="VALinstantiate"><span class="keyword">val</span> instantiate</span> : <code class="type">level:int -><br>       generalized:(int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list -><br>       <a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Instantiate a type scheme, given as a type together with a list
 of generalized variables.
 Fresh variables are created with the given (current) level,
 and attached to the appropriate constraints.
 This erases position information, since they usually become
 irrelevant.</p>
</div>
</div>

<pre><span id="VALgeneralizable"><span class="keyword">val</span> generalizable</span> : <code class="type">level:int -> <a href="Lang_types.html#TYPEt">t</a> -> (int * <a href="Lang_types.html#TYPEconstraints">constraints</a>) list</code></pre><div class="info ">
<div class="info-desc">
<p>Return a list of generalizable variables in a type.
 This is performed after type inference on the left-hand side
 of a let-in, with <code class="code">level</code> being the level of that let-in.
 Uses the simple method of ML, to be associated with a value restriction.</p>
</div>
</div>

<pre><span id="TYPEexplanation"><span class="keyword">type</span> <code class="type"></code>explanation</span> </pre>


<pre><span id="EXCEPTIONType_Error"><span class="keyword">exception</span> Type_Error</span> <span class="keyword">of</span> <code class="type"><a href="Lang_types.html#TYPEexplanation">explanation</a></code></pre>

<pre><span id="VALprint_type_error"><span class="keyword">val</span> print_type_error</span> : <code class="type"><a href="Lang_types.html#TYPEexplanation">explanation</a> -> unit</code></pre>
<pre><span id="VAL(<:)"><span class="keyword">val</span> (&lt;:)</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VAL(>:)"><span class="keyword">val</span> (&gt;:)</span> : <code class="type"><a href="Lang_types.html#TYPEt">t</a> -> <a href="Lang_types.html#TYPEt">t</a> -> unit</code></pre>
<pre><span id="VALfresh"><span class="keyword">val</span> fresh</span> : <code class="type">constraints:<a href="Lang_types.html#TYPEconstraints">constraints</a> -><br>       level:int -> pos:<a href="Lang_types.html#TYPEpos">pos</a> option -> <a href="Lang_types.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Simplified version of existential variable generation,
 without constraints. This is used when parsing to annotate
 the AST.</p>
</div>
</div>

<pre><span id="VALfresh_evar"><span class="keyword">val</span> fresh_evar</span> : <code class="type">level:int -> pos:<a href="Lang_types.html#TYPEpos">pos</a> option -> <a href="Lang_types.html#TYPEt">t</a></code></pre>
<pre><span id="VALiter_constr"><span class="keyword">val</span> iter_constr</span> : <code class="type">(bool -> <a href="Lang_types.html#TYPEconstructed">constructed</a> -> unit) -> <a href="Lang_types.html#TYPEt">t</a> -> bool * bool</code></pre><div class="info ">
<div class="info-desc">
<p>Iterate over all constructed types, giving info about their
 positivity, and return <code class="code">true</code> if there is a var, because it might be
 instantiated by a ground type later.</p>
</div>
</div>
</body></html>